<body>
  <script src='world.js'></script>
  <script src='minimap.js'></script>
  <script src='tracer.js'></script>
  <script src='observer.js'></script>
  <script src='vector.js'></script>
  <script src='keyboard.js'></script>
  <script src='loop.js'></script>

  <script>
    class CONF{};
    CONF.distMult = 5;


    let worldWidth = 32;
    let worldHeight = 32;
    let width = worldWidth * 8;
    let height = worldHeight * 8;
    let viewWidth = 320;
    let viewHeight = 200;
    

    world = new World(worldWidth, worldHeight);
    world.addBoundaries();

    world.addBox(10, 10, 'yellow');
    world.addBox(20, 20, 'pink');
    world.addBox(20, 30, 'purple');
    world.addBox(30, 30, 'orange');

    observer = new Observer(worldWidth/2-.5-5, worldHeight/2-.5+5);
    world.registerObserver(observer);
    keyboard = new Keyboard();
    tracer = new Tracer(viewWidth, viewHeight, world);
    miniMap = new MiniMap(width, height, world);

    document.body.append(tracer.getDom());
    document.body.append(miniMap.getDom());


    function loop() {
      world.step();
      miniMap.render();
      tracer.render();
    }
   
    looper = new Loop(10); 
    looper.registerCallback(loop);
    looper.run();
  </script>

</body>
